<!-- STYLE !-->
<head>
	<style>
		table{
			width: 700px;
			height:auto;
			border:1px;
		}
		td{
			height: 50px;
			width: 50px;
		}
		</style>

</head>

<!-- HTML !-->
<body>
<div id="chat-text" style="width:500px; height:100px;overflow-y:scroll"></div>
<form id="chat-form">  <input id="chat-input" type="text" style="width:500px"></input> </form>

<div id="spiel-feld">
</div>
</body>

<!-- SKRIPT !-->
<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"> </script>
<script>


var socket = io();

var test = function(td){
    var tdId = td.id; 
    socket.emit('cellClicked',tdId);	 
}

	var chatText = document.getElementById('chat-text');
	var chatInput = document.getElementById('chat-input');
	var chatForm = document.getElementById('chat-form');


	var spielFeld = document.getElementById('spiel-feld');
	//var spielFeld = $('#spiel-feld')[0];

    var table = document.getElementById("playground");
	/*var cells = table.getElementsByTagName("td"); 
			//var table = $('#table'); 
			//var cells = $('#td');
			for(var i = 0; i < cells.length; i++){
			    var cell = cells[i];
			    cell.onclick = function(){
			        var cellIndex  = this.cellIndex;  
			        var rowIndex = this.parentNode.rowIndex;
			        socket.emit('cellClicked',table.rows[rowIndex].cells[cellIndex].innerText);
			        alert(table.rows[rowIndex].cells[cellIndex].innerText);
			    }
			} */

	//KOMMUNIKATION MIT SERVER
	socket.on('init',function(data){
		spielFeld.innerHTML = data;
	}); 
	socket.on('addToChat',function(data){
		chatText.innerHTML += '<div>' + data + '<div>';
	});

	socket.on('refreshTable',function(data){
	spielFeld.innerHTML = data;
	});

	chatForm.onsubmit = function(e){
		e.preventDefault();
		socket.emit('sendMsgToServer',chatInput.value);
		chatInput.value = '';
	}



</script>

