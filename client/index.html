<!-- STYLE !-->
<head>
	<style>
		table{
			border:1px;
		}
		td{
			height: 50px;
			width: 50px;
		}
		</style>

</head>

<!-- HTML !-->
<body>
<div id="chat-text" style="width:500px; height:100px;overflow-y:scroll">
	<div> Hello!</div>
</div>

<form id="chat-form"> 
	<input id="chat-input" type="text" style="width:500px"></input>
</form>


<div id="demo"> </div>

</body>

<!-- SKRIPT !-->
<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"> </script>
<script>
	var chatText = document.getElementById('chat-text');
	var chatInput = document.getElementById('chat-input');
	var chatForm = document.getElementById('chat-form');

//INITIALISIERUNG ARRAY
	var x = new Array(5);
	
	for (var i = 0; i < 6; i++) {
		x[i] = new Array(7);
	}

	var count;
	for (var j = 0; j < 6; j++) {
		for (var k = 0; k < 7; k++) {
			x[j][k] = "0";
		}
	}

//INITIALISIERUNG MACHE AUS ARRAY EINE TABELLE
	function makeTableHTML(myArray) {
	    var result = "<table id='playground' border=1>";
	    for(var i=0; i<myArray.length; i++) {
	        result += "<tr>";
	        for(var j=0; j<myArray[i].length; j++){
	            result += "<td id="+i+''+j+">"+myArray[i][j]+"</td>";
	        }
	        result += "</tr>";
	    }
	    result += "</table>";
	    return result;
	}

	document.getElementById("demo").innerHTML = makeTableHTML(x);
	
//Gib Wert jeder Zelle aus bei KLICK

  var items = document.getElementById('56');
  var table = document.getElementById("playground");
    if (table != null) {
        for (var i = 0; i < table.rows.length; i++) {
            for (var j = 0; j < table.rows[i].cells.length; j++)
            table.rows[i].cells[j].onclick = function () {
            	//console.log(items[i].innerHTML);
               //tableText(this);
               socket.emit('cellClicked',items.innerText);
            };
        }
    }

    function tableText(tableCell) {
        alert(tableCell.innerHTML);
    }

//KOMMUNIKATION MIT SERVER
	var socket = io();

	socket.on('addToChat',function(data){
		chatText.innerHTML += '<div>' + data + '<div>';
	});

	socket.on('refreshTable',function(data){
		items.innerText += "gesetzt";
	});

	chatForm.onsubmit = function(e){
		e.preventDefault();
		socket.emit('sendMsgToServer',chatInput.value);
		chatInput.value = '';
	}

</script>

